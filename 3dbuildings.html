<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Development Area</title>
    <!-- <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- AR.js by @jerome_etienne - github: https://github.com/jeromeetienne/ar.js - info: https://medium.com/arjs/augmented-reality-in-10-lines-of-html-4e193ea9fdbf -->
<!--     <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script> -->
    <!-- import the webpage's javascript file -->

  </head>
	<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
	<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
	<script>

		// AFRAME.registerComponent("clicklistener", {
		// 	init: function(){
		// 		this.target = document.querySelector('#target');
		// 		 const info_northern_metropolis = document.getElementById('info_northern_metropolis');
    //
		//     		this.target.addEventListener('click', e=> {
		// 			         // alert("Clicked");
    //                info_northern_metropolis.style.display = "block";
    //       			});
		// 	}
		// });

    AFRAME.registerComponent("listener", {
      init: function() {
        this.target = document.querySelector('#target');
        // 		this.marker = document.querySelector('#marker');
        var info_northern_metropolis = document.querySelector('#model_info');
        // 		this.marker.setAttribute('visible', 'true');
        this.prevPosition = null;
        this.prevRotation = null;

        this.target.addEventListener('click', function (evt) {
               // alert("Clicked");
               info_northern_metropolis.style.display = "block";
            });
      },
      tick: function() {
        if (this.el.object3D.visible) {
          this.target.setAttribute('visible', 'true')
          if(this.prevPosition) {
            this.target.object3D.position.lerp(this.prevPosition, 1)
            let rot = this.target.object3D.rotation.toVector3().lerp(this.prevRotation, 1)
            this.target.object3D.rotation.setFromVector3(rot)
          } else {
            this.target.setAttribute('position', this.el.getAttribute('position'))
            this.target.setAttribute('rotation', this.el.getAttribute('rotation'))
          }
          this.prevPosition = this.el.object3D.position
          this.prevRotation = this.el.object3D.rotation
        } else {
          this.target.setAttribute('visible', 'false')
          this.prevPosition = null;
          this.prevRotation = null;
        }
        }
      // }
      });
       // );


    </script>
  <body>
    <!-- <div id="container" style="position:absolute; top:0; left:0; height:100%; width:100%"> -->
      <a-scene embedded arjs cursor="fuse: false; rayOrigin: mouse;" renderer="antialias: true; logarithmicDepthBuffer: true; colorManagement: true; sortObjects: true">
        <a-marker listener id='marker' emitevents="true" rayOrigin="objects: .clickable" type="pattern" preset="custom" url="https://venuschanhk.github.io/jllmapar.github.io/pattern-JLL(1).patt" size="0.042" smooth='true'>
          <a-box material='opacity: 0.2;'></a-box>

          <a-entity

            id=target
            position="6.129606 0 -3.336102"
            scale="0.021 0.05 0.021"
            material='opacity: 0.7;'
            gltf-model="https://venuschanhk.github.io/jllmapar.github.io/Models/2030_EconomicBelt_Eastern_0.glb"
          ></a-entity>
          <a-text value="Eastern\nKnowledge and Technology\nCorridor" position="6.129606 1.3 -3.336102" width="5" color="black" ></a-text>

          <!-- For testing
          <a-box id='target' position="3.22 1 0.22" material='opacity: 1;'></a-box> -->

        </a-marker>
        <a-entity camera></a-entity>
      </a-scene>
    <!-- </div> -->
    <div class="left_container" style="position:absolute; top:0; left:0;">
      <div id="nav_bar_logo" style="Padding:3px; height:10px; width:20%">
        <a href="https://www.jll.com.hk" class="logo-link">
          <img src="https://www.jll.com.hk/content/dam/jll-com/images/logos/jll-logo-positive.svg" alt="JLL Hong Kong" class="cq-dd-image logo" loading="lazy" width="100" height="43">
        </a>
      </div>
      <div id='info_northern_metropolis' style="background-color:rgba(204, 201, 203, 0.4); width:30%; height:fit-content; display: none; top:49; Padding:3px 3px 3px 3px;">
        <h3>Northern Metropolis<br>北部都會區</h3>
        <p>The Northern Metropolis encompasses an area of about 30,000 hectares, panning from west to east, it comprises a number of major development clusters with transport proposals to enhance their accessibility and inter-connectivity. The metropolis commands a favourable location for the innovation and technology industry.<br><strong>key initiatives</strong></p>
        <ul>
          <li>Expansion of Hung Shui Kiu/Ha Tsuen New Development Area</li>
          <li>San Tin/Lok Ma Chau Development Node</li>
          <li>Expansion of Kwu Tung North New Development Area</li>
          <li>Lo Wu/Man Kam To Comprehensive Development Node</li>
          <li>NTN New Town</li>
          <li>Opening-up of Sha Tau Kok Town</li>
        </ul>
        <p><small><b>For more please visit: </b><a href="https://www.policyaddress.gov.hk/2021/eng/pdf/publications/Northern/Northern-Metropolis-Development-Strategy-Report.pdf">Northern Metropolis Development Strategy</a></small></p>
      </div>
    </div>
  </body>
</html>
